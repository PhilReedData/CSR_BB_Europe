<html>
	<head>
		<title>Test</title>
		<script type="text/javascript">
		function Upload() {
			var fileUpload = document.getElementById("fileUpload");
			var regex = /^([a-zA-Z0-9\s_\\.\-:])+(.csv|.txt)$/;
			var sep = ","
			var radios = document.getElementsByName("separator");
			for (var i = 0; i < radios.length; i++) {
				if (radios[i].checked) {
					sep = radios[i].value;
					break;
				}
			}
			if (regex.test(fileUpload.value.toLowerCase())) {
				if (typeof (FileReader) != "undefined") {
					var reader = new FileReader();
					reader.onload = function (e) {
						var table = document.createElement("table");
						var rows = e.target.result.split("\n");
						for (var i = 0; i < rows.length; i++) {
							var row = table.insertRow(-1);
							var cells = rows[i].split(sep);
							for (var j = 0; j < cells.length; j++) {
								var cell = row.insertCell(-1);
								cell.innerHTML = cells[j];
							}
						}
						var dvCSV = document.getElementById("dvCSV");
						dvCSV.innerHTML = "";
						dvCSV.appendChild(table);
					}
					reader.readAsText(fileUpload.files[0]);
				} else {
					alert("This browser does not support HTML5.");
				}
			} else {
				alert("Please upload a valid CSV file.");
			}
		}
		</script>
	</head>
	<body>
		<h1>Highlighter</h1>
		<p>Select the file <strong>word_vectors_for_each_topic.csv</strong></p>
		<p>Separator:
			<input type="radio" name="separator" value="," id="comma" />
			<label for="comma">comma</label>
			<input type="radio" name="separator" value=";" id="semicolon" checked="checked" />
			<label for="semicolon">semicolon</label>
		</p>
		<input id="fileUpload" type="file" />
		<input id="go" type="button" onclick="Upload();" value="Go" />
		<div id="dvCSV" />
	</body>
</html>